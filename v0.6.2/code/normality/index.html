
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Python library for performing statistical tests on time series data.">
      
      
        <meta name="author" content="[Chris Mahoney](mailto:chris@mahoneyconsultingservices.com)">
      
      
      
        <link rel="prev" href="../regularity/">
      
      
        <link rel="next" href="../stationarity/">
      
      
        
      
      
      <link rel="icon" href="../../assets/icons/1205526.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Normality - Time Series Statistical Tests</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/css/style.css">
    
      <link rel="stylesheet" href="../../assets/css/admonitions.css">
    
      <link rel="stylesheet" href="../../assets/css/code_chunks.css">
    
      <link rel="stylesheet" href="../../assets/css/shortcodes.css">
    
      <link rel="stylesheet" href="../../assets/css/progress_bar.css">
    
      <link rel="stylesheet" href="../../assets/css/columns.css">
    
      <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/all.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#test-the-normality-of-a-given-time-series-dataset" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Time Series Statistical Tests" class="md-header__button md-logo" aria-label="Time Series Statistical Tests" data-md-component="logo">
      
  <img src="../../assets/icons/1205526.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Time Series Statistical Tests
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Normality
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/data-science-extensions/ts-stat-tests" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </div>
  <div class="md-source__repository">
    ts-stat-tests
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../usage/overview/" class="md-tabs__link">
          
  
  
    
  
  Usage

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Code

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="https://data-science-extensions.com/" class="md-tabs__link">
        
  
  
    
  
  Data Science Extensions

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Time Series Statistical Tests" class="md-nav__button md-logo" aria-label="Time Series Statistical Tests" data-md-component="logo">
      
  <img src="../../assets/icons/1205526.svg" alt="logo">

    </a>
    Time Series Statistical Tests
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/data-science-extensions/ts-stat-tests" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/></svg>
  </div>
  <div class="md-source__repository">
    ts-stat-tests
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Change Log
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Code
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Code
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Modules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Modules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../correlation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Correlation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../regularity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Regularity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Normality
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Normality
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normality-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normality Tests
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normality Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.tests.normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;normality
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Â normality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.tests.normality.normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;normality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.tests.normality.is_normal" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;is_normal
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normality-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normality Algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normality Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;normality
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Â normality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.jb" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;jb
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.ob" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ob
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.sw" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;sw
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.dp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;dp
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.ad" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ad
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stationarity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stationarity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../seasonality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Seasonality
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Errors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://data-science-extensions.com/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Science Extensions
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normality-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normality Tests
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normality Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.tests.normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;normality
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Â normality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.tests.normality.normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;normality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.tests.normality.is_normal" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;is_normal
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normality-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Normality Algorithms
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Normality Algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;normality
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Â normality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.jb" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;jb
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.ob" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ob
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.sw" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;sw
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.dp" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;dp
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ts_stat_tests.algorithms.normality.ad" class="md-nav__link">
    <span class="md-ellipsis">
      
        <code class="doc-symbol doc-symbol-toc doc-symbol-function"></code>&nbsp;ad
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/data-science-extensions/ts-stat-tests/edit/main/docs/code/normality.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/data-science-extensions/ts-stat-tests/raw/main/docs/code/normality.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="test-the-normality-of-a-given-time-series-dataset">Test the <code>normality</code> of a given Time-Series Dataset<a class="headerlink" href="#test-the-normality-of-a-given-time-series-dataset" title="Permanent link">ðŸ”—</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">ðŸ”—</a></h2>
<div class="admonition abstract">
<p class="admonition-title">Summary</p>
<div class="admonition quote">
<p class="admonition-title">As stated by the <a href="https://www.itl.nist.gov/div898/handbook/eda/section3/eda35.htm">NIST/SEMATECH e-Handbook of Statistical Methods</a>:</p>
<p>Normal distributions are important in statistics and are often used in the natural and social sciences to represent real-valued random variables whose distributions are not known. Their importance is partly due to the central limit theorem.</p>
<hr />
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12 12 19.84V15z"/></svg></span> For more info, see: <a href="https://www.itl.nist.gov/div898/handbook/eda/section3/eda35b.htm">Engineering Statistics Handbook: Measures of Skewness and Kurtosis</a>.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The normality test is used to determine whether a data set is well-modeled by a normal distribution. In time series forecasting, we primarily test the residuals (errors) of a model for normality. If the residuals follow a normal distribution, it suggests that the model has successfully captured the systematic patterns in the data, and the remaining errors are random white noise.</p>
<p>If the residuals are not normally distributed, it may indicate that the model is missing important features, such as seasonal patterns or long-term trends, or that a transformation of the data (e.g., Log or Box-Cox) is required before modeling.</p>
<table>
<thead>
<tr>
<th>library</th>
<th>category</th>
<th>algorithm</th>
<th>short</th>
<th>import script</th>
<th>url</th>
</tr>
</thead>
<tbody>
<tr>
<td>scipy</td>
<td>Normality</td>
<td>Shapiro-Wilk Test</td>
<td>SW</td>
<td><code>from scipy.stats import shapiro</code></td>
<td><a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.shapiro.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.shapiro.html</a></td>
</tr>
<tr>
<td>scipy</td>
<td>Normality</td>
<td>D'Agostino &amp; Pearson's Test</td>
<td>DP</td>
<td><code>from scipy.stats import normaltest</code></td>
<td><a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html</a></td>
</tr>
<tr>
<td>scipy</td>
<td>Normality</td>
<td>Anderson-Darling Test</td>
<td>AD</td>
<td><code>from scipy.stats import anderson</code></td>
<td><a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.anderson.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.anderson.html</a></td>
</tr>
<tr>
<td>statsmodels</td>
<td>Normality</td>
<td>Jarque-Bera Test</td>
<td>JB</td>
<td><code>from statsmodels.stats.stattools import jarque_bera</code></td>
<td><a href="https://www.statsmodels.org/stable/generated/statsmodels.stats.stattools.jarque_bera.html">https://www.statsmodels.org/stable/generated/statsmodels.stats.stattools.jarque_bera.html</a></td>
</tr>
<tr>
<td>statsmodels</td>
<td>Normality</td>
<td>Omnibus Test</td>
<td>OB</td>
<td><code>from statsmodels.stats.diagnostic import omni_normtest</code></td>
<td><a href="https://www.statsmodels.org/stable/generated/statsmodels.stats.diagnostic.omni_normtest.html">https://www.statsmodels.org/stable/generated/statsmodels.stats.diagnostic.omni_normtest.html</a></td>
</tr>
</tbody>
</table>
<hr />
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 15V9h8V4.16L19.84 12 12 19.84V15z"/></svg></span> For more info, see: <a href="https://otexts.com/fpp3/residuals.html">Hyndman &amp; Athanasopoulos: Forecasting: Principles and Practice</a>.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Source Library</p>
<p>The <a href="https://scipy.org/"><code>scipy</code></a> and <a href="https://www.statsmodels.org/"><code>statsmodels</code></a> packages were chosen because they provide standard, reliable implementations of classical statistical tests. <code>scipy.stats</code> provides implementations for Shapiro-Wilk, D'Agostino-Pearson, and Anderson-Darling tests, while <code>statsmodels</code> provides the Jarque-Bera and Omnibus tests.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Source Module</p>
<p>All of the source code can be found within these modules:</p>
<ul>
<li><a class="autorefs autorefs-internal" title="            ts_stat_tests.algorithms.normality" href="#ts_stat_tests.algorithms.normality"><code>ts_stat_tests.algorithms.normality</code></a>.</li>
<li><a class="autorefs autorefs-internal" title="            ts_stat_tests.tests.normality" href="#ts_stat_tests.tests.normality"><code>ts_stat_tests.tests.normality</code></a>.</li>
</ul>
</div>
</div>
<h2 id="normality-tests">Normality Tests<a class="headerlink" href="#normality-tests" title="Permanent link">ðŸ”—</a></h2>


<div class="doc doc-object doc-module">



<h3 id="ts_stat_tests.tests.normality" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">ts_stat_tests.tests.normality</span>


<a href="#ts_stat_tests.tests.normality" class="headerlink" title="Permanent link">ðŸ”—</a></h3>

    <div class="doc doc-contents first">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>This module contains convenience functions and tests for normality measures, allowing for easy access to different normality algorithms.</p>
</div>










  <div class="doc doc-children">







































































<div class="doc doc-object doc-function">


<h4 id="ts_stat_tests.tests.normality.normality" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">normality</span>


<a href="#ts_stat_tests.tests.normality.normality" class="headerlink" title="Permanent link">ðŸ”—</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">normality</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dp&quot;</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">nan_policy</span><span class="p">:</span> <span class="n">VALID_DP_NAN_POLICY_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;propagate&quot;</span><span class="p">,</span>
    <span class="n">dist</span><span class="p">:</span> <span class="n">VALID_AD_DIST_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;norm&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span>
    <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
    <span class="n">NormaltestResult</span><span class="p">,</span>
    <span class="n">ShapiroResult</span><span class="p">,</span>
    <span class="n">AndersonResult</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>Perform a normality test on the given data.</p>
</div>
<details class="abstract" open="open">
<summary>Details</summary>
<p>This function is a convenience wrapper around the five underlying algorithms:<br>
- <a class="autorefs autorefs-internal" title="            jb" href="#ts_stat_tests.algorithms.normality.jb"><code>jb()</code></a><br>
- <a class="autorefs autorefs-internal" title="            ob" href="#ts_stat_tests.algorithms.normality.ob"><code>ob()</code></a><br>
- <a class="autorefs autorefs-internal" title="            sw" href="#ts_stat_tests.algorithms.normality.sw"><code>sw()</code></a><br>
- <a class="autorefs autorefs-internal" title="            dp" href="#ts_stat_tests.algorithms.normality.dp"><code>dp()</code></a><br>
- <a class="autorefs autorefs-internal" title="            ad" href="#ts_stat_tests.algorithms.normality.ad"><code>ad()</code></a></p>
</details>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="numpy.typing.ArrayLike">ArrayLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to be checked. Should be a <code>1-D</code> or <code>N-D</code> data array.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>algorithm</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which normality algorithm to use.<br>
- <code>jb()</code>: <code>["jb", "jarque", "jarque-bera"]</code><br>
- <code>ob()</code>: <code>["ob", "omni", "omnibus"]</code><br>
- <code>sw()</code>: <code>["sw", "shapiro", "shapiro-wilk"]</code><br>
- <code>dp()</code>: <code>["dp", "dagostino", "dagostino-pearson"]</code><br>
- <code>ad()</code>: <code>["ad", "anderson", "anderson-darling"]</code><br>
Default: <code>"dp"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;dp&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Axis along which to compute the test.
Default: <code>0</code></p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>nan_policy</code>
            </td>
            <td>
                  <code><span title="ts_stat_tests.algorithms.normality.VALID_DP_NAN_POLICY_OPTIONS">VALID_DP_NAN_POLICY_OPTIONS</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Defines how to handle when input contains <code>NaN</code>.<br>
- <code>propagate</code>: returns <code>NaN</code><br>
- <code>raise</code>: throws an error<br>
- <code>omit</code>: performs the calculations ignoring <code>NaN</code> values<br>
Default: <code>"propagate"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;propagate&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dist</code>
            </td>
            <td>
                  <code><span title="ts_stat_tests.algorithms.normality.VALID_AD_DIST_OPTIONS">VALID_AD_DIST_OPTIONS</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of distribution to test against.<br>
Only relevant when <code>algorithm=anderson</code>.<br>
Default: <code>"norm"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;norm&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When the given value for <code>algorithm</code> is not valid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="tuple">tuple</span>[<span title="float">float</span>, <span title="float">float</span>], <span title="tuple">tuple</span>[<span title="float">float</span>, <span title="list">list</span>[<span title="float">float</span>], <span title="list">list</span>[<span title="float">float</span>]]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If not <code>"ad"</code>, returns a <code>tuple</code> of <code>(stat, pvalue)</code>.
If <code>"ad"</code>, returns a <code>tuple</code> of <code>(stat, critical_values, significance_level)</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <div class="admonition success">
<p class="admonition-title">Credit</p>
<p>Calculations are performed by <code>scipy.stats</code> and <code>statsmodels.stats</code>.</p>
</div>
<details class="example" open="open">
<summary>Examples</summary>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Setup</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.tests.normality</span><span class="w"> </span><span class="kn">import</span> <span class="n">normality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">data_normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normal</span> <span class="o">=</span> <span class="n">data_normal</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: D'Agostino-Pearson test</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span> <span class="o">=</span> <span class="n">normality</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;dp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DP statistic: </span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">DP statistic: 1.3537</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p-value: </span><span class="si">{</span><span class="n">pvalue</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">p-value: 0.5082</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: Jarque-Bera test</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">pvalue</span> <span class="o">=</span> <span class="n">normality</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;jb&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JB statistic: </span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">JB statistic: 1.4168</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p-value: </span><span class="si">{</span><span class="n">pvalue</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">p-value: 0.4924</span>
</code></pre></div></td></tr></table></div>
</details>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/ts_stat_tests/tests/normality.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@typechecked</span>
<span class="k">def</span><span class="w"> </span><span class="nf">normality</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dp&quot;</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">nan_policy</span><span class="p">:</span> <span class="n">VALID_DP_NAN_POLICY_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;propagate&quot;</span><span class="p">,</span>
    <span class="n">dist</span><span class="p">:</span> <span class="n">VALID_AD_DIST_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;norm&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">NormaltestResult</span><span class="p">,</span> <span class="n">ShapiroResult</span><span class="p">,</span> <span class="n">AndersonResult</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    !!! note &quot;Summary&quot;</span>
<span class="sd">        Perform a normality test on the given data.</span>

<span class="sd">    ???+ abstract &quot;Details&quot;</span>
<span class="sd">        This function is a convenience wrapper around the five underlying algorithms:&lt;br&gt;</span>
<span class="sd">        - [`jb()`][ts_stat_tests.algorithms.normality.jb]&lt;br&gt;</span>
<span class="sd">        - [`ob()`][ts_stat_tests.algorithms.normality.ob]&lt;br&gt;</span>
<span class="sd">        - [`sw()`][ts_stat_tests.algorithms.normality.sw]&lt;br&gt;</span>
<span class="sd">        - [`dp()`][ts_stat_tests.algorithms.normality.dp]&lt;br&gt;</span>
<span class="sd">        - [`ad()`][ts_stat_tests.algorithms.normality.ad]</span>

<span class="sd">    Params:</span>
<span class="sd">        x (ArrayLike):</span>
<span class="sd">            The data to be checked. Should be a `1-D` or `N-D` data array.</span>
<span class="sd">        algorithm (str):</span>
<span class="sd">            Which normality algorithm to use.&lt;br&gt;</span>
<span class="sd">            - `jb()`: `[&quot;jb&quot;, &quot;jarque&quot;, &quot;jarque-bera&quot;]`&lt;br&gt;</span>
<span class="sd">            - `ob()`: `[&quot;ob&quot;, &quot;omni&quot;, &quot;omnibus&quot;]`&lt;br&gt;</span>
<span class="sd">            - `sw()`: `[&quot;sw&quot;, &quot;shapiro&quot;, &quot;shapiro-wilk&quot;]`&lt;br&gt;</span>
<span class="sd">            - `dp()`: `[&quot;dp&quot;, &quot;dagostino&quot;, &quot;dagostino-pearson&quot;]`&lt;br&gt;</span>
<span class="sd">            - `ad()`: `[&quot;ad&quot;, &quot;anderson&quot;, &quot;anderson-darling&quot;]`&lt;br&gt;</span>
<span class="sd">            Default: `&quot;dp&quot;`</span>
<span class="sd">        axis (int):</span>
<span class="sd">            Axis along which to compute the test.</span>
<span class="sd">            Default: `0`</span>
<span class="sd">        nan_policy (VALID_DP_NAN_POLICY_OPTIONS):</span>
<span class="sd">            Defines how to handle when input contains `NaN`.&lt;br&gt;</span>
<span class="sd">            - `propagate`: returns `NaN`&lt;br&gt;</span>
<span class="sd">            - `raise`: throws an error&lt;br&gt;</span>
<span class="sd">            - `omit`: performs the calculations ignoring `NaN` values&lt;br&gt;</span>
<span class="sd">            Default: `&quot;propagate&quot;`</span>
<span class="sd">        dist (VALID_AD_DIST_OPTIONS):</span>
<span class="sd">            The type of distribution to test against.&lt;br&gt;</span>
<span class="sd">            Only relevant when `algorithm=anderson`.&lt;br&gt;</span>
<span class="sd">            Default: `&quot;norm&quot;`</span>

<span class="sd">    Raises:</span>
<span class="sd">        (ValueError):</span>
<span class="sd">            When the given value for `algorithm` is not valid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (Union[tuple[float, float], tuple[float, list[float], list[float]]]):</span>
<span class="sd">            If not `&quot;ad&quot;`, returns a `tuple` of `(stat, pvalue)`.</span>
<span class="sd">            If `&quot;ad&quot;`, returns a `tuple` of `(stat, critical_values, significance_level)`.</span>

<span class="sd">    !!! success &quot;Credit&quot;</span>
<span class="sd">        Calculations are performed by `scipy.stats` and `statsmodels.stats`.</span>

<span class="sd">    ???+ example &quot;Examples&quot;</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Setup&quot;}</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.tests.normality import normality</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.utils.data import data_normal</span>
<span class="sd">        &gt;&gt;&gt; normal = data_normal</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 1: D&#39;Agostino-Pearson test&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, pvalue = normality(normal, algorithm=&quot;dp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;DP statistic: {stat:.4f}&quot;)</span>
<span class="sd">        DP statistic: 1.3537</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;p-value: {pvalue:.4f}&quot;)</span>
<span class="sd">        p-value: 0.5082</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 2: Jarque-Bera test&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, pvalue = normality(normal, algorithm=&quot;jb&quot;)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;JB statistic: {stat:.4f}&quot;)</span>
<span class="sd">        JB statistic: 1.4168</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;p-value: {pvalue:.4f}&quot;)</span>
<span class="sd">        p-value: 0.4924</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="o">...</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;jb&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;jb&quot;</span><span class="p">,</span> <span class="s2">&quot;jarque&quot;</span><span class="p">,</span> <span class="s2">&quot;jarque-bera&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ob&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;ob&quot;</span><span class="p">,</span> <span class="s2">&quot;omni&quot;</span><span class="p">,</span> <span class="s2">&quot;omnibus&quot;</span><span class="p">),</span>
        <span class="s2">&quot;sw&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;sw&quot;</span><span class="p">,</span> <span class="s2">&quot;shapiro&quot;</span><span class="p">,</span> <span class="s2">&quot;shapiro-wilk&quot;</span><span class="p">),</span>
        <span class="s2">&quot;dp&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;dp&quot;</span><span class="p">,</span> <span class="s2">&quot;dagostino&quot;</span><span class="p">,</span> <span class="s2">&quot;dagostino-pearson&quot;</span><span class="p">),</span>
        <span class="s2">&quot;ad&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;ad&quot;</span><span class="p">,</span> <span class="s2">&quot;anderson&quot;</span><span class="p">,</span> <span class="s2">&quot;anderson-darling&quot;</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">algorithm</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;jb&quot;</span><span class="p">]:</span>
        <span class="n">res_jb</span> <span class="o">=</span> <span class="n">_jb</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">res_jb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">res_jb</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">algorithm</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;ob&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">_ob</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">algorithm</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;sw&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">_sw</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">algorithm</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;dp&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">_dp</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span> <span class="n">nan_policy</span><span class="o">=</span><span class="n">nan_policy</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">algorithm</span> <span class="ow">in</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;ad&quot;</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">_ad</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="n">dist</span><span class="p">)</span>

    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
        <span class="n">generate_error_message</span><span class="p">(</span>
            <span class="n">parameter_name</span><span class="o">=</span><span class="s2">&quot;algorithm&quot;</span><span class="p">,</span>
            <span class="n">value_parsed</span><span class="o">=</span><span class="n">algorithm</span><span class="p">,</span>
            <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ts_stat_tests.tests.normality.is_normal" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">is_normal</span>


<a href="#ts_stat_tests.tests.normality.is_normal" class="headerlink" title="Permanent link">ðŸ”—</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">is_normal</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dp&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">nan_policy</span><span class="p">:</span> <span class="n">VALID_DP_NAN_POLICY_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;propagate&quot;</span><span class="p">,</span>
    <span class="n">dist</span><span class="p">:</span> <span class="n">VALID_AD_DIST_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;norm&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>Test whether a given data set is <code>normal</code> or not.</p>
</div>
<details class="abstract" open="open">
<summary>Details</summary>
<p>This function implements the given algorithm (defined in the parameter <code>algorithm</code>), and returns a dictionary containing the relevant data:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># The result of the test. Will be `True` if `p-value &gt;= alpha`, and `False` otherwise</span>
    <span class="s2">&quot;statistic&quot;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># The test statistic</span>
    <span class="s2">&quot;p_value&quot;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># The p-value of the test (if applicable)</span>
    <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="o">...</span><span class="p">,</span>  <span class="c1"># The significance level used</span>
<span class="p">}</span>
</code></pre></div></p>
</details>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="numpy.typing.ArrayLike">ArrayLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to be checked. Should be a <code>1-D</code> or <code>N-D</code> data array.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>algorithm</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Which normality algorithm to use.<br>
- <code>jb()</code>: <code>["jb", "jarque", "jarque-bera"]</code><br>
- <code>ob()</code>: <code>["ob", "omni", "omnibus"]</code><br>
- <code>sw()</code>: <code>["sw", "shapiro", "shapiro-wilk"]</code><br>
- <code>dp()</code>: <code>["dp", "dagostino", "dagostino-pearson"]</code><br>
- <code>ad()</code>: <code>["ad", "anderson", "anderson-darling"]</code><br>
Default: <code>"dp"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;dp&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>alpha</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Significance level.
Default: <code>0.05</code></p>
              </div>
            </td>
            <td>
                  <code>0.05</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Axis along which to compute the test.
Default: <code>0</code></p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>nan_policy</code>
            </td>
            <td>
                  <code><span title="ts_stat_tests.algorithms.normality.VALID_DP_NAN_POLICY_OPTIONS">VALID_DP_NAN_POLICY_OPTIONS</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Defines how to handle when input contains <code>NaN</code>.<br>
- <code>propagate</code>: returns <code>NaN</code><br>
- <code>raise</code>: throws an error<br>
- <code>omit</code>: performs the calculations ignoring <code>NaN</code> values<br>
Default: <code>"propagate"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;propagate&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dist</code>
            </td>
            <td>
                  <code><span title="ts_stat_tests.algorithms.normality.VALID_AD_DIST_OPTIONS">VALID_AD_DIST_OPTIONS</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of distribution to test against.<br>
Only relevant when <code>algorithm=anderson</code>.<br>
Default: <code>"norm"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;norm&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="dict">dict</span>[<span title="str">str</span>, <span title="typing.Union">Union</span>[<span title="str">str</span>, <span title="float">float</span>, <span title="bool">bool</span>, None]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary containing:
- <code>"result"</code> (bool): Indicator if the series is normal.
- <code>"statistic"</code> (float): The test statistic.
- <code>"p_value"</code> (float): The p-value of the test (if applicable).
- <code>"alpha"</code> (float): The significance level used.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <div class="admonition success">
<p class="admonition-title">Credit</p>
<p>Calculations are performed by <code>scipy.stats</code> and <code>statsmodels.stats</code>.</p>
</div>
<details class="example" open="open">
<summary>Examples</summary>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Setup</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.tests.normality</span><span class="w"> </span><span class="kn">import</span> <span class="n">is_normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">data_normal</span><span class="p">,</span> <span class="n">data_random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normal</span> <span class="o">=</span> <span class="n">data_normal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span> <span class="o">=</span> <span class="n">data_random</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: Test normal data</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">is_normal</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;dp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p-value: </span><span class="si">{</span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;p_value&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">p-value: 0.5082</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: Test non-normal (random) data</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">is_normal</span><span class="p">(</span><span class="n">random</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;sw&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
<span class="go">False</span>
</code></pre></div></td></tr></table></div>
</details>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/ts_stat_tests/tests/normality.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@typechecked</span>
<span class="k">def</span><span class="w"> </span><span class="nf">is_normal</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dp&quot;</span><span class="p">,</span>
    <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">nan_policy</span><span class="p">:</span> <span class="n">VALID_DP_NAN_POLICY_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;propagate&quot;</span><span class="p">,</span>
    <span class="n">dist</span><span class="p">:</span> <span class="n">VALID_AD_DIST_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;norm&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    !!! note &quot;Summary&quot;</span>
<span class="sd">        Test whether a given data set is `normal` or not.</span>

<span class="sd">    ???+ abstract &quot;Details&quot;</span>
<span class="sd">        This function implements the given algorithm (defined in the parameter `algorithm`), and returns a dictionary containing the relevant data:</span>
<span class="sd">        ```python</span>
<span class="sd">        {</span>
<span class="sd">            &quot;result&quot;: ...,  # The result of the test. Will be `True` if `p-value &gt;= alpha`, and `False` otherwise</span>
<span class="sd">            &quot;statistic&quot;: ...,  # The test statistic</span>
<span class="sd">            &quot;p_value&quot;: ...,  # The p-value of the test (if applicable)</span>
<span class="sd">            &quot;alpha&quot;: ...,  # The significance level used</span>
<span class="sd">        }</span>
<span class="sd">        ```</span>

<span class="sd">    Params:</span>
<span class="sd">        x (ArrayLike):</span>
<span class="sd">            The data to be checked. Should be a `1-D` or `N-D` data array.</span>
<span class="sd">        algorithm (str):</span>
<span class="sd">            Which normality algorithm to use.&lt;br&gt;</span>
<span class="sd">            - `jb()`: `[&quot;jb&quot;, &quot;jarque&quot;, &quot;jarque-bera&quot;]`&lt;br&gt;</span>
<span class="sd">            - `ob()`: `[&quot;ob&quot;, &quot;omni&quot;, &quot;omnibus&quot;]`&lt;br&gt;</span>
<span class="sd">            - `sw()`: `[&quot;sw&quot;, &quot;shapiro&quot;, &quot;shapiro-wilk&quot;]`&lt;br&gt;</span>
<span class="sd">            - `dp()`: `[&quot;dp&quot;, &quot;dagostino&quot;, &quot;dagostino-pearson&quot;]`&lt;br&gt;</span>
<span class="sd">            - `ad()`: `[&quot;ad&quot;, &quot;anderson&quot;, &quot;anderson-darling&quot;]`&lt;br&gt;</span>
<span class="sd">            Default: `&quot;dp&quot;`</span>
<span class="sd">        alpha (float):</span>
<span class="sd">            Significance level.</span>
<span class="sd">            Default: `0.05`</span>
<span class="sd">        axis (int):</span>
<span class="sd">            Axis along which to compute the test.</span>
<span class="sd">            Default: `0`</span>
<span class="sd">        nan_policy (VALID_DP_NAN_POLICY_OPTIONS):</span>
<span class="sd">            Defines how to handle when input contains `NaN`.&lt;br&gt;</span>
<span class="sd">            - `propagate`: returns `NaN`&lt;br&gt;</span>
<span class="sd">            - `raise`: throws an error&lt;br&gt;</span>
<span class="sd">            - `omit`: performs the calculations ignoring `NaN` values&lt;br&gt;</span>
<span class="sd">            Default: `&quot;propagate&quot;`</span>
<span class="sd">        dist (VALID_AD_DIST_OPTIONS):</span>
<span class="sd">            The type of distribution to test against.&lt;br&gt;</span>
<span class="sd">            Only relevant when `algorithm=anderson`.&lt;br&gt;</span>
<span class="sd">            Default: `&quot;norm&quot;`</span>

<span class="sd">    Returns:</span>
<span class="sd">        (dict[str, Union[str, float, bool, None]]):</span>
<span class="sd">            A dictionary containing:</span>
<span class="sd">            - `&quot;result&quot;` (bool): Indicator if the series is normal.</span>
<span class="sd">            - `&quot;statistic&quot;` (float): The test statistic.</span>
<span class="sd">            - `&quot;p_value&quot;` (float): The p-value of the test (if applicable).</span>
<span class="sd">            - `&quot;alpha&quot;` (float): The significance level used.</span>

<span class="sd">    !!! success &quot;Credit&quot;</span>
<span class="sd">        Calculations are performed by `scipy.stats` and `statsmodels.stats`.</span>

<span class="sd">    ???+ example &quot;Examples&quot;</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Setup&quot;}</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.tests.normality import is_normal</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.utils.data import data_normal, data_random</span>
<span class="sd">        &gt;&gt;&gt; normal = data_normal</span>
<span class="sd">        &gt;&gt;&gt; random = data_random</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 1: Test normal data&quot;}</span>
<span class="sd">        &gt;&gt;&gt; res = is_normal(normal, algorithm=&quot;dp&quot;)</span>
<span class="sd">        &gt;&gt;&gt; res[&quot;result&quot;]</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;p-value: {res[&#39;p_value&#39;]:.4f}&quot;)</span>
<span class="sd">        p-value: 0.5082</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 2: Test non-normal (random) data&quot;}</span>
<span class="sd">        &gt;&gt;&gt; res = is_normal(random, algorithm=&quot;sw&quot;)</span>
<span class="sd">        &gt;&gt;&gt; res[&quot;result&quot;]</span>
<span class="sd">        False</span>

<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">res</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">normality</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="n">algorithm</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span> <span class="n">nan_policy</span><span class="o">=</span><span class="n">nan_policy</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="n">dist</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">algorithm</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;ad&quot;</span><span class="p">,</span> <span class="s2">&quot;anderson&quot;</span><span class="p">,</span> <span class="s2">&quot;anderson-darling&quot;</span><span class="p">):</span>
        <span class="c1"># res is AndersonResult(statistic, critical_values, significance_level, fit_result)</span>
        <span class="c1"># indexing only gives the first 3 elements</span>
        <span class="n">res_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span> <span class="k">else</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">res_list</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">v0</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">res_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">v1</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">res_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">v2</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">res_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">stat</span> <span class="o">=</span> <span class="n">v0</span>
            <span class="n">crit</span> <span class="o">=</span> <span class="n">v1</span>
            <span class="n">sig</span> <span class="o">=</span> <span class="n">v2</span>

            <span class="c1"># sig is something like [15. , 10. ,  5. ,  2.5,  1. ]</span>
            <span class="c1"># alpha is something like 0.05 (which is 5%)</span>
            <span class="n">sig_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
            <span class="n">crit_arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">crit</span><span class="p">)</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">sig_arr</span> <span class="o">-</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)))</span>
            <span class="n">critical_value</span> <span class="o">=</span> <span class="n">crit_arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
            <span class="n">is_norm</span> <span class="o">=</span> <span class="n">stat</span> <span class="o">&lt;</span> <span class="n">critical_value</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_norm</span><span class="p">),</span>
                <span class="s2">&quot;statistic&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">stat</span><span class="p">),</span>
                <span class="s2">&quot;critical_value&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">critical_value</span><span class="p">),</span>
                <span class="s2">&quot;significance_level&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">sig_arr</span><span class="p">[</span><span class="n">idx</span><span class="p">]),</span>
                <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span>
            <span class="p">}</span>
        <span class="c1"># Fallback for unexpected return format</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
            <span class="s2">&quot;statistic&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
            <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span>
        <span class="p">}</span>

    <span class="c1"># For others, they return (statistic, pvalue) or similar</span>
    <span class="n">p_val</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">stat_val</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Use getattr to avoid type checker attribute issues</span>
    <span class="n">p_val_attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s2">&quot;pvalue&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">stat_val_attr</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s2">&quot;statistic&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">p_val_attr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">stat_val_attr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">p_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">p_val_attr</span><span class="p">)</span>
        <span class="n">stat_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">stat_val_attr</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">))</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">res_tuple</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">res</span>
        <span class="n">stat_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">res_tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">p_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">res_tuple</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Fallback</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="n">stat_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
        <span class="n">p_val</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">is_norm_val</span> <span class="o">=</span> <span class="n">p_val</span> <span class="o">&gt;=</span> <span class="n">alpha</span> <span class="k">if</span> <span class="n">p_val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_norm_val</span><span class="p">),</span>
        <span class="s2">&quot;statistic&quot;</span><span class="p">:</span> <span class="n">stat_val</span><span class="p">,</span>
        <span class="s2">&quot;p_value&quot;</span><span class="p">:</span> <span class="n">p_val</span><span class="p">,</span>
        <span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">alpha</span><span class="p">),</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>




  </div>

    </div>

</div><h2 id="normality-algorithms">Normality Algorithms<a class="headerlink" href="#normality-algorithms" title="Permanent link">ðŸ”—</a></h2>


<div class="doc doc-object doc-module">



<h3 id="ts_stat_tests.algorithms.normality" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">ts_stat_tests.algorithms.normality</span>


<a href="#ts_stat_tests.algorithms.normality" class="headerlink" title="Permanent link">ðŸ”—</a></h3>

    <div class="doc doc-contents first">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>This module provides implementations of various statistical tests to assess the normality of data distributions. These tests are essential in statistical analysis and time series forecasting, as many models assume that the underlying data follows a normal distribution.</p>
</div>










  <div class="doc doc-children">































































<div class="doc doc-object doc-function">


<h4 id="ts_stat_tests.algorithms.normality.jb" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">jb</span>


<a href="#ts_stat_tests.algorithms.normality.jb" class="headerlink" title="Permanent link">ðŸ”—</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">jb</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>The Jarque-Bera test is a statistical test used to determine whether a dataset follows a normal distribution. In time series forecasting, the test can be used to evaluate whether the residuals of a model follow a normal distribution.</p>
</div>
<details class="abstract" open="open">
<summary>Details</summary>
<p>To apply the Jarque-Bera test to time series data, we first need to estimate the residuals of the forecasting model. The residuals represent the difference between the actual values of the time series and the values predicted by the model. We can then use the Jarque-Bera test to evaluate whether the residuals follow a normal distribution.</p>
<p>The Jarque-Bera test is based on two statistics, skewness and kurtosis, which measure the degree of asymmetry and peakedness in the distribution of the residuals. The test compares the observed skewness and kurtosis of the residuals to the expected values for a normal distribution. If the observed values are significantly different from the expected values, the test rejects the null hypothesis that the residuals follow a normal distribution.</p>
</details>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="numpy.typing.ArrayLike">ArrayLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Data to test for normality. Usually regression model residuals that are mean 0.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Axis to use if data has more than 1 dimension.
Default: <code>0</code></p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the input data <code>x</code> is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>JB</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Jarque-Bera test statistic.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>JBpv</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The pvalue of the test statistic.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>skew</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Estimated skewness of the data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>kurtosis</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Estimated kurtosis of the data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <details class="example" open="open">
<summary>Examples</summary>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Setup</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.algorithms.normality</span><span class="w"> </span><span class="kn">import</span> <span class="n">jb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">data_airline</span><span class="p">,</span> <span class="n">data_noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">airline</span> <span class="o">=</span> <span class="n">data_airline</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noise</span> <span class="o">=</span> <span class="n">data_noise</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: Using the airline dataset</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">jb_value</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">skew</span><span class="p">,</span> <span class="n">kurt</span> <span class="o">=</span> <span class="n">jb</span><span class="p">(</span><span class="n">airline</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">jb_value</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">8.9225</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: Using random noise</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">jb_value</span><span class="p">,</span> <span class="n">p_value</span><span class="p">,</span> <span class="n">skew</span><span class="p">,</span> <span class="n">kurt</span> <span class="o">=</span> <span class="n">jb</span><span class="p">(</span><span class="n">noise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">jb_value</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">0.7478</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">p_value</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">0.6881</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">skew</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">-0.0554</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">kurt</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">3.0753</span>
</code></pre></div></td></tr></table></div>
</details>
<details class="equation">
<summary>Calculation</summary>
<p>The Jarque-Bera test statistic is defined as:</p>
<div class="arithmatex">\[
JB = \frac{n}{6} \left( S^2 + \frac{(K-3)^2}{4} \right)
\]</div>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(n\)</span> is the sample size,</li>
<li><span class="arithmatex">\(S\)</span> is the sample skewness, and</li>
<li><span class="arithmatex">\(K\)</span> is the sample kurtosis.</li>
</ul>
</details>
<details class="note">
<summary>Notes</summary>
<p>Each output returned has 1 dimension fewer than data.
The Jarque-Bera test statistic tests the null that the data is normally distributed against an alternative that the data follow some other distribution. It has an asymptotic <span class="arithmatex">\(\chi_2^2\)</span> distribution.</p>
</details>
<details class="success">
<summary>Credit</summary>
<p>All credit goes to the <a href="https://www.statsmodels.org"><code>statsmodels</code></a> library.</p>
</details>
<details class="question">
<summary>References</summary>
<ul>
<li>Jarque, C. and Bera, A. (1980) "Efficient tests for normality, homoscedasticity and serial independence of regression residuals", 6 Econometric Letters 255-259.</li>
</ul>
</details>
<details class="tip">
<summary>See Also</summary>
<ul>
<li><a class="autorefs autorefs-internal" title="            ob" href="#ts_stat_tests.algorithms.normality.ob"><code>ob()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            sw" href="#ts_stat_tests.algorithms.normality.sw"><code>sw()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            dp" href="#ts_stat_tests.algorithms.normality.dp"><code>dp()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            ad" href="#ts_stat_tests.algorithms.normality.ad"><code>ad()</code></a></li>
</ul>
</details>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/ts_stat_tests/algorithms/normality.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@typechecked</span>
<span class="k">def</span><span class="w"> </span><span class="nf">jb</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">]:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    !!! note &quot;Summary&quot;</span>
<span class="sd">        The Jarque-Bera test is a statistical test used to determine whether a dataset follows a normal distribution. In time series forecasting, the test can be used to evaluate whether the residuals of a model follow a normal distribution.</span>

<span class="sd">    ???+ abstract &quot;Details&quot;</span>
<span class="sd">        To apply the Jarque-Bera test to time series data, we first need to estimate the residuals of the forecasting model. The residuals represent the difference between the actual values of the time series and the values predicted by the model. We can then use the Jarque-Bera test to evaluate whether the residuals follow a normal distribution.</span>

<span class="sd">        The Jarque-Bera test is based on two statistics, skewness and kurtosis, which measure the degree of asymmetry and peakedness in the distribution of the residuals. The test compares the observed skewness and kurtosis of the residuals to the expected values for a normal distribution. If the observed values are significantly different from the expected values, the test rejects the null hypothesis that the residuals follow a normal distribution.</span>

<span class="sd">    Params:</span>
<span class="sd">        x (ArrayLike):</span>
<span class="sd">            Data to test for normality. Usually regression model residuals that are mean 0.</span>
<span class="sd">        axis (int):</span>
<span class="sd">            Axis to use if data has more than 1 dimension.</span>
<span class="sd">            Default: `0`</span>

<span class="sd">    Raises:</span>
<span class="sd">        (ValueError):</span>
<span class="sd">            If the input data `x` is invalid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        JB (float):</span>
<span class="sd">            The Jarque-Bera test statistic.</span>
<span class="sd">        JBpv (float):</span>
<span class="sd">            The pvalue of the test statistic.</span>
<span class="sd">        skew (float):</span>
<span class="sd">            Estimated skewness of the data.</span>
<span class="sd">        kurtosis (float):</span>
<span class="sd">            Estimated kurtosis of the data.</span>

<span class="sd">    ???+ example &quot;Examples&quot;</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Setup&quot;}</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.algorithms.normality import jb</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.utils.data import data_airline, data_noise</span>
<span class="sd">        &gt;&gt;&gt; airline = data_airline.values</span>
<span class="sd">        &gt;&gt;&gt; noise = data_noise</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 1: Using the airline dataset&quot;}</span>
<span class="sd">        &gt;&gt;&gt; jb_value, p_value, skew, kurt = jb(airline)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{jb_value:.4f}&quot;)</span>
<span class="sd">        8.9225</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 2: Using random noise&quot;}</span>
<span class="sd">        &gt;&gt;&gt; jb_value, p_value, skew, kurt = jb(noise)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{jb_value:.4f}&quot;)</span>
<span class="sd">        0.7478</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{p_value:.4f}&quot;)</span>
<span class="sd">        0.6881</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{skew:.4f}&quot;)</span>
<span class="sd">        -0.0554</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{kurt:.4f}&quot;)</span>
<span class="sd">        3.0753</span>

<span class="sd">        ```</span>

<span class="sd">    ??? equation &quot;Calculation&quot;</span>
<span class="sd">        The Jarque-Bera test statistic is defined as:</span>

<span class="sd">        $$</span>
<span class="sd">        JB = \frac{n}{6} \left( S^2 + \frac{(K-3)^2}{4} \right)</span>
<span class="sd">        $$</span>

<span class="sd">        where:</span>

<span class="sd">        - $n$ is the sample size,</span>
<span class="sd">        - $S$ is the sample skewness, and</span>
<span class="sd">        - $K$ is the sample kurtosis.</span>

<span class="sd">    ??? note &quot;Notes&quot;</span>
<span class="sd">        Each output returned has 1 dimension fewer than data.</span>
<span class="sd">        The Jarque-Bera test statistic tests the null that the data is normally distributed against an alternative that the data follow some other distribution. It has an asymptotic $\chi_2^2$ distribution.</span>

<span class="sd">    ??? success &quot;Credit&quot;</span>
<span class="sd">        All credit goes to the [`statsmodels`](https://www.statsmodels.org) library.</span>

<span class="sd">    ??? question &quot;References&quot;</span>
<span class="sd">        - Jarque, C. and Bera, A. (1980) &quot;Efficient tests for normality, homoscedasticity and serial independence of regression residuals&quot;, 6 Econometric Letters 255-259.</span>

<span class="sd">    ??? tip &quot;See Also&quot;</span>
<span class="sd">        - [`ob()`][ts_stat_tests.algorithms.normality.ob]</span>
<span class="sd">        - [`sw()`][ts_stat_tests.algorithms.normality.sw]</span>
<span class="sd">        - [`dp()`][ts_stat_tests.algorithms.normality.dp]</span>
<span class="sd">        - [`ad()`][ts_stat_tests.algorithms.normality.ad]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_jb</span><span class="p">(</span><span class="n">resids</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>  <span class="c1"># type: ignore[return-value]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ts_stat_tests.algorithms.normality.ob" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">ob</span>


<a href="#ts_stat_tests.algorithms.normality.ob" class="headerlink" title="Permanent link">ðŸ”—</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ob</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>The Omnibus test is a statistical test used to evaluate the normality of a dataset, including time series data. In time series forecasting, the Omnibus test can be used to assess whether the residuals of a model follow a normal distribution.</p>
</div>
<details class="abstract" open="open">
<summary>Details</summary>
<p>The Omnibus test uses a combination of skewness and kurtosis measures to assess whether the residuals follow a normal distribution. Skewness measures the degree of asymmetry in the distribution of the residuals, while kurtosis measures the degree of peakedness or flatness. If the residuals follow a normal distribution, their skewness and kurtosis should be close to zero.</p>
</details>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="numpy.typing.ArrayLike">ArrayLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Data to test for normality. Usually regression model residuals that are mean 0.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Axis to use if data has more than 1 dimension.
Default: <code>0</code></p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the input data <code>x</code> is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>statistic</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Omnibus test statistic.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>pvalue</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The p-value for the hypothesis test.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <details class="example" open="open">
<summary>Examples</summary>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Setup</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.algorithms.normality</span><span class="w"> </span><span class="kn">import</span> <span class="n">ob</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">data_airline</span><span class="p">,</span> <span class="n">data_noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">airline</span> <span class="o">=</span> <span class="n">data_airline</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noise</span> <span class="o">=</span> <span class="n">data_noise</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: Using the airline dataset</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">p_val</span> <span class="o">=</span> <span class="n">ob</span><span class="p">(</span><span class="n">airline</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">8.6554</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: Using random noise</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">p_val</span> <span class="o">=</span> <span class="n">ob</span><span class="p">(</span><span class="n">noise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">0.8637</span>
</code></pre></div></td></tr></table></div>
</details>
<details class="equation">
<summary>Calculation</summary>
<p>The D'Agostino's <span class="arithmatex">\(K^2\)</span> test statistic is defined as:</p>
<div class="arithmatex">\[
K^2 = Z_1(g_1)^2 + Z_2(g_2)^2
\]</div>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(Z_1(g_1)\)</span> is the standard normal transformation of skewness, and</li>
<li><span class="arithmatex">\(Z_2(g_2)\)</span> is the standard normal transformation of kurtosis.</li>
</ul>
</details>
<details class="note">
<summary>Notes</summary>
<p>The Omnibus test statistic tests the null that the data is normally distributed against an alternative that the data follow some other distribution. It is based on D'Agostino's <span class="arithmatex">\(K^2\)</span> test statistic.</p>
</details>
<details class="success">
<summary>Credit</summary>
<p>All credit goes to the <a href="https://www.statsmodels.org"><code>statsmodels</code></a> library.</p>
</details>
<details class="question">
<summary>References</summary>
<ul>
<li>D'Agostino, R. B. and Pearson, E. S. (1973), "Tests for departure from normality," Biometrika, 60, 613-622.</li>
<li>D'Agostino, R. B. and Stephens, M. A. (1986), "Goodness-of-fit techniques," New York: Marcel Dekker.</li>
</ul>
</details>
<details class="tip">
<summary>See Also</summary>
<ul>
<li><a class="autorefs autorefs-internal" title="            jb" href="#ts_stat_tests.algorithms.normality.jb"><code>jb()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            sw" href="#ts_stat_tests.algorithms.normality.sw"><code>sw()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            dp" href="#ts_stat_tests.algorithms.normality.dp"><code>dp()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            ad" href="#ts_stat_tests.algorithms.normality.ad"><code>ad()</code></a></li>
</ul>
</details>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/ts_stat_tests/algorithms/normality.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@typechecked</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ob</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    !!! note &quot;Summary&quot;</span>
<span class="sd">        The Omnibus test is a statistical test used to evaluate the normality of a dataset, including time series data. In time series forecasting, the Omnibus test can be used to assess whether the residuals of a model follow a normal distribution.</span>

<span class="sd">    ???+ abstract &quot;Details&quot;</span>
<span class="sd">        The Omnibus test uses a combination of skewness and kurtosis measures to assess whether the residuals follow a normal distribution. Skewness measures the degree of asymmetry in the distribution of the residuals, while kurtosis measures the degree of peakedness or flatness. If the residuals follow a normal distribution, their skewness and kurtosis should be close to zero.</span>

<span class="sd">    Params:</span>
<span class="sd">        x (ArrayLike):</span>
<span class="sd">            Data to test for normality. Usually regression model residuals that are mean 0.</span>
<span class="sd">        axis (int):</span>
<span class="sd">            Axis to use if data has more than 1 dimension.</span>
<span class="sd">            Default: `0`</span>

<span class="sd">    Raises:</span>
<span class="sd">        (ValueError):</span>
<span class="sd">            If the input data `x` is invalid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        statistic (float):</span>
<span class="sd">            The Omnibus test statistic.</span>
<span class="sd">        pvalue (float):</span>
<span class="sd">            The p-value for the hypothesis test.</span>

<span class="sd">    ???+ example &quot;Examples&quot;</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Setup&quot;}</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.algorithms.normality import ob</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.utils.data import data_airline, data_noise</span>
<span class="sd">        &gt;&gt;&gt; airline = data_airline.values</span>
<span class="sd">        &gt;&gt;&gt; noise = data_noise</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 1: Using the airline dataset&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, p_val = ob(airline)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        8.6554</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 2: Using random noise&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, p_val = ob(noise)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        0.8637</span>

<span class="sd">        ```</span>

<span class="sd">    ??? equation &quot;Calculation&quot;</span>
<span class="sd">        The D&#39;Agostino&#39;s $K^2$ test statistic is defined as:</span>

<span class="sd">        $$</span>
<span class="sd">        K^2 = Z_1(g_1)^2 + Z_2(g_2)^2</span>
<span class="sd">        $$</span>

<span class="sd">        where:</span>

<span class="sd">        - $Z_1(g_1)$ is the standard normal transformation of skewness, and</span>
<span class="sd">        - $Z_2(g_2)$ is the standard normal transformation of kurtosis.</span>

<span class="sd">    ??? note &quot;Notes&quot;</span>
<span class="sd">        The Omnibus test statistic tests the null that the data is normally distributed against an alternative that the data follow some other distribution. It is based on D&#39;Agostino&#39;s $K^2$ test statistic.</span>

<span class="sd">    ??? success &quot;Credit&quot;</span>
<span class="sd">        All credit goes to the [`statsmodels`](https://www.statsmodels.org) library.</span>

<span class="sd">    ??? question &quot;References&quot;</span>
<span class="sd">        - D&#39;Agostino, R. B. and Pearson, E. S. (1973), &quot;Tests for departure from normality,&quot; Biometrika, 60, 613-622.</span>
<span class="sd">        - D&#39;Agostino, R. B. and Stephens, M. A. (1986), &quot;Goodness-of-fit techniques,&quot; New York: Marcel Dekker.</span>

<span class="sd">    ??? tip &quot;See Also&quot;</span>
<span class="sd">        - [`jb()`][ts_stat_tests.algorithms.normality.jb]</span>
<span class="sd">        - [`sw()`][ts_stat_tests.algorithms.normality.sw]</span>
<span class="sd">        - [`dp()`][ts_stat_tests.algorithms.normality.dp]</span>
<span class="sd">        - [`ad()`][ts_stat_tests.algorithms.normality.ad]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_ob</span><span class="p">(</span><span class="n">resids</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ts_stat_tests.algorithms.normality.sw" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">sw</span>


<a href="#ts_stat_tests.algorithms.normality.sw" class="headerlink" title="Permanent link">ðŸ”—</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">sw</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ShapiroResult</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>The Shapiro-Wilk test is a statistical test used to determine whether a dataset follows a normal distribution.</p>
</div>
<details class="abstract" open="open">
<summary>Details</summary>
<p>The Shapiro-Wilk test is based on the null hypothesis that the residuals of the forecasting model are normally distributed. The test calculates a test statistic that compares the observed distribution of the residuals to the expected distribution under the null hypothesis of normality.</p>
</details>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="numpy.typing.ArrayLike">ArrayLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array of sample data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the input data <code>x</code> is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="scipy.stats._morestats.ShapiroResult">ShapiroResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A named tuple containing the test statistic and p-value:
- statistic (float): The test statistic.
- pvalue (float): The p-value for the hypothesis test.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <details class="example" open="open">
<summary>Examples</summary>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Setup</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.algorithms.normality</span><span class="w"> </span><span class="kn">import</span> <span class="n">sw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">data_airline</span><span class="p">,</span> <span class="n">data_noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">airline</span> <span class="o">=</span> <span class="n">data_airline</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noise</span> <span class="o">=</span> <span class="n">data_noise</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: Using the airline dataset</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">p_val</span> <span class="o">=</span> <span class="n">sw</span><span class="p">(</span><span class="n">airline</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">0.9520</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: Using random noise</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">p_val</span> <span class="o">=</span> <span class="n">sw</span><span class="p">(</span><span class="n">noise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">0.9985</span>
</code></pre></div></td></tr></table></div>
</details>
<details class="equation">
<summary>Calculation</summary>
<p>The Shapiro-Wilk test statistic is defined as:</p>
<div class="arithmatex">\[
W = \frac{\left( \sum_{i=1}^n a_i x_{(i)} \right)^2}{\sum_{i=1}^n (x_i - \bar{x})^2}
\]</div>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(x_{(i)}\)</span> are the ordered sample values,</li>
<li><span class="arithmatex">\(\bar{x}\)</span> is the sample mean, and</li>
<li><span class="arithmatex">\(a_i\)</span> are constants generated from the covariances, variances and means of the order statistics of a sample of size <span class="arithmatex">\(n\)</span> from a normal distribution.</li>
</ul>
</details>
<details class="note">
<summary>Notes</summary>
<p>The algorithm used is described in (Algorithm as R94 Appl. Statist. (1995)) but censoring parameters as described are not implemented. For <span class="arithmatex">\(N &gt; 5000\)</span> the <span class="arithmatex">\(W\)</span> test statistic is accurate but the <span class="arithmatex">\(p-value\)</span> may not be.</p>
</details>
<details class="success">
<summary>Credit</summary>
<p>All credit goes to the <a href="https://docs.scipy.org/"><code>scipy</code></a> library.</p>
</details>
<details class="question">
<summary>References</summary>
<ul>
<li>Shapiro, S. S. &amp; Wilk, M.B (1965). An analysis of variance test for normality (complete samples), Biometrika, Vol. 52, pp. 591-611.</li>
<li>Algorithm as R94 Appl. Statist. (1995) VOL. 44, NO. 4.</li>
</ul>
</details>
<details class="tip">
<summary>See Also</summary>
<ul>
<li><a class="autorefs autorefs-internal" title="            jb" href="#ts_stat_tests.algorithms.normality.jb"><code>jb()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            ob" href="#ts_stat_tests.algorithms.normality.ob"><code>ob()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            dp" href="#ts_stat_tests.algorithms.normality.dp"><code>dp()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            ad" href="#ts_stat_tests.algorithms.normality.ad"><code>ad()</code></a></li>
</ul>
</details>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/ts_stat_tests/algorithms/normality.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@typechecked</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sw</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ShapiroResult</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    !!! note &quot;Summary&quot;</span>
<span class="sd">        The Shapiro-Wilk test is a statistical test used to determine whether a dataset follows a normal distribution.</span>

<span class="sd">    ???+ abstract &quot;Details&quot;</span>
<span class="sd">        The Shapiro-Wilk test is based on the null hypothesis that the residuals of the forecasting model are normally distributed. The test calculates a test statistic that compares the observed distribution of the residuals to the expected distribution under the null hypothesis of normality.</span>

<span class="sd">    Params:</span>
<span class="sd">        x (ArrayLike):</span>
<span class="sd">            Array of sample data.</span>

<span class="sd">    Raises:</span>
<span class="sd">        (ValueError):</span>
<span class="sd">            If the input data `x` is invalid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (ShapiroResult):</span>
<span class="sd">            A named tuple containing the test statistic and p-value:</span>
<span class="sd">            - statistic (float): The test statistic.</span>
<span class="sd">            - pvalue (float): The p-value for the hypothesis test.</span>

<span class="sd">    ???+ example &quot;Examples&quot;</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Setup&quot;}</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.algorithms.normality import sw</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.utils.data import data_airline, data_noise</span>
<span class="sd">        &gt;&gt;&gt; airline = data_airline.values</span>
<span class="sd">        &gt;&gt;&gt; noise = data_noise</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 1: Using the airline dataset&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, p_val = sw(airline)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        0.9520</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 2: Using random noise&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, p_val = sw(noise)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        0.9985</span>

<span class="sd">        ```</span>

<span class="sd">    ??? equation &quot;Calculation&quot;</span>
<span class="sd">        The Shapiro-Wilk test statistic is defined as:</span>

<span class="sd">        $$</span>
<span class="sd">        W = \frac{\left( \sum_{i=1}^n a_i x_{(i)} \right)^2}{\sum_{i=1}^n (x_i - \bar{x})^2}</span>
<span class="sd">        $$</span>

<span class="sd">        where:</span>

<span class="sd">        - $x_{(i)}$ are the ordered sample values,</span>
<span class="sd">        - $\bar{x}$ is the sample mean, and</span>
<span class="sd">        - $a_i$ are constants generated from the covariances, variances and means of the order statistics of a sample of size $n$ from a normal distribution.</span>

<span class="sd">    ??? note &quot;Notes&quot;</span>
<span class="sd">        The algorithm used is described in (Algorithm as R94 Appl. Statist. (1995)) but censoring parameters as described are not implemented. For $N &gt; 5000$ the $W$ test statistic is accurate but the $p-value$ may not be.</span>

<span class="sd">    ??? success &quot;Credit&quot;</span>
<span class="sd">        All credit goes to the [`scipy`](https://docs.scipy.org/) library.</span>

<span class="sd">    ??? question &quot;References&quot;</span>
<span class="sd">        - Shapiro, S. S. &amp; Wilk, M.B (1965). An analysis of variance test for normality (complete samples), Biometrika, Vol. 52, pp. 591-611.</span>
<span class="sd">        - Algorithm as R94 Appl. Statist. (1995) VOL. 44, NO. 4.</span>

<span class="sd">    ??? tip &quot;See Also&quot;</span>
<span class="sd">        - [`jb()`][ts_stat_tests.algorithms.normality.jb]</span>
<span class="sd">        - [`ob()`][ts_stat_tests.algorithms.normality.ob]</span>
<span class="sd">        - [`dp()`][ts_stat_tests.algorithms.normality.dp]</span>
<span class="sd">        - [`ad()`][ts_stat_tests.algorithms.normality.ad]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_sw</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ts_stat_tests.algorithms.normality.dp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">dp</span>


<a href="#ts_stat_tests.algorithms.normality.dp" class="headerlink" title="Permanent link">ðŸ”—</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">dp</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">nan_policy</span><span class="p">:</span> <span class="n">VALID_DP_NAN_POLICY_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;propagate&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NormaltestResult</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>The D'Agostino and Pearson's test is a statistical test used to evaluate whether a dataset follows a normal distribution.</p>
</div>
<details class="abstract" open="open">
<summary>Details</summary>
<p>The D'Agostino and Pearson's test uses a combination of skewness and kurtosis measures to assess whether the residuals follow a normal distribution. Skewness measures the degree of asymmetry in the distribution of the residuals, while kurtosis measures the degree of peakedness or flatness.</p>
</details>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="numpy.typing.ArrayLike">ArrayLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The array containing the sample to be tested.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Axis along which to compute test. If <code>None</code>, compute over the whole array <code>a</code>.
Default: <code>0</code></p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>nan_policy</code>
            </td>
            <td>
                  <code><span title="ts_stat_tests.algorithms.normality.VALID_DP_NAN_POLICY_OPTIONS">VALID_DP_NAN_POLICY_OPTIONS</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Defines how to handle when input contains nan.</p>
<ul>
<li><code>"propagate"</code>: returns nan</li>
<li><code>"raise"</code>: throws an error</li>
<li><code>"omit"</code>: performs the calculations ignoring nan values</li>
</ul>
<p>Default: <code>"propagate"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;propagate&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the input data <code>x</code> is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="scipy.stats._stats_py.NormaltestResult">NormaltestResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A named tuple containing the test statistic and p-value:
- statistic (float): The test statistic (<span class="arithmatex">\(K^2\)</span>).
- pvalue (float): A 2-sided chi-squared probability for the hypothesis test.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <details class="example" open="open">
<summary>Examples</summary>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Setup</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.algorithms.normality</span><span class="w"> </span><span class="kn">import</span> <span class="n">dp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">data_airline</span><span class="p">,</span> <span class="n">data_noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">airline</span> <span class="o">=</span> <span class="n">data_airline</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noise</span> <span class="o">=</span> <span class="n">data_noise</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: Using the airline dataset</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">p_val</span> <span class="o">=</span> <span class="n">dp</span><span class="p">(</span><span class="n">airline</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">8.6554</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: Using random noise</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">p_val</span> <span class="o">=</span> <span class="n">dp</span><span class="p">(</span><span class="n">noise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">0.8637</span>
</code></pre></div></td></tr></table></div>
</details>
<details class="equation">
<summary>Calculation</summary>
<p>The D'Agostino's <span class="arithmatex">\(K^2\)</span> test statistic is defined as:</p>
<div class="arithmatex">\[
K^2 = Z_1(g_1)^2 + Z_2(g_2)^2
\]</div>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(Z_1(g_1)\)</span> is the standard normal transformation of skewness, and</li>
<li><span class="arithmatex">\(Z_2(g_2)\)</span> is the standard normal transformation of kurtosis.</li>
</ul>
</details>
<details class="note">
<summary>Notes</summary>
<p>This function is a wrapper for the <code>scipy.stats.normaltest</code> function.</p>
</details>
<details class="success">
<summary>Credit</summary>
<p>All credit goes to the <a href="https://docs.scipy.org/"><code>scipy</code></a> library.</p>
</details>
<details class="question">
<summary>References</summary>
<ul>
<li>D'Agostino, R. B. (1971), "An omnibus test of normality for moderate and large sample size", Biometrika, 58, 341-348</li>
<li>D'Agostino, R. and Pearson, E. S. (1973), "Tests for departure from normality", Biometrika, 60, 613-622</li>
</ul>
</details>
<details class="tip">
<summary>See Also</summary>
<ul>
<li><a class="autorefs autorefs-internal" title="            jb" href="#ts_stat_tests.algorithms.normality.jb"><code>jb()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            ob" href="#ts_stat_tests.algorithms.normality.ob"><code>ob()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            sw" href="#ts_stat_tests.algorithms.normality.sw"><code>sw()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            ad" href="#ts_stat_tests.algorithms.normality.ad"><code>ad()</code></a></li>
</ul>
</details>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/ts_stat_tests/algorithms/normality.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@typechecked</span>
<span class="k">def</span><span class="w"> </span><span class="nf">dp</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">axis</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">nan_policy</span><span class="p">:</span> <span class="n">VALID_DP_NAN_POLICY_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;propagate&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NormaltestResult</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    !!! note &quot;Summary&quot;</span>
<span class="sd">        The D&#39;Agostino and Pearson&#39;s test is a statistical test used to evaluate whether a dataset follows a normal distribution.</span>

<span class="sd">    ???+ abstract &quot;Details&quot;</span>
<span class="sd">        The D&#39;Agostino and Pearson&#39;s test uses a combination of skewness and kurtosis measures to assess whether the residuals follow a normal distribution. Skewness measures the degree of asymmetry in the distribution of the residuals, while kurtosis measures the degree of peakedness or flatness.</span>

<span class="sd">    Params:</span>
<span class="sd">        x (ArrayLike):</span>
<span class="sd">            The array containing the sample to be tested.</span>
<span class="sd">        axis (int):</span>
<span class="sd">            Axis along which to compute test. If `None`, compute over the whole array `a`.</span>
<span class="sd">            Default: `0`</span>
<span class="sd">        nan_policy (VALID_DP_NAN_POLICY_OPTIONS):</span>
<span class="sd">            Defines how to handle when input contains nan.</span>

<span class="sd">            - `&quot;propagate&quot;`: returns nan</span>
<span class="sd">            - `&quot;raise&quot;`: throws an error</span>
<span class="sd">            - `&quot;omit&quot;`: performs the calculations ignoring nan values</span>

<span class="sd">            Default: `&quot;propagate&quot;`</span>

<span class="sd">    Raises:</span>
<span class="sd">        (ValueError):</span>
<span class="sd">            If the input data `x` is invalid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (NormaltestResult):</span>
<span class="sd">            A named tuple containing the test statistic and p-value:</span>
<span class="sd">            - statistic (float): The test statistic ($K^2$).</span>
<span class="sd">            - pvalue (float): A 2-sided chi-squared probability for the hypothesis test.</span>

<span class="sd">    ???+ example &quot;Examples&quot;</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Setup&quot;}</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.algorithms.normality import dp</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.utils.data import data_airline, data_noise</span>
<span class="sd">        &gt;&gt;&gt; airline = data_airline.values</span>
<span class="sd">        &gt;&gt;&gt; noise = data_noise</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 1: Using the airline dataset&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, p_val = dp(airline)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        8.6554</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 2: Using random noise&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, p_val = dp(noise)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        0.8637</span>

<span class="sd">        ```</span>

<span class="sd">    ??? equation &quot;Calculation&quot;</span>
<span class="sd">        The D&#39;Agostino&#39;s $K^2$ test statistic is defined as:</span>

<span class="sd">        $$</span>
<span class="sd">        K^2 = Z_1(g_1)^2 + Z_2(g_2)^2</span>
<span class="sd">        $$</span>

<span class="sd">        where:</span>

<span class="sd">        - $Z_1(g_1)$ is the standard normal transformation of skewness, and</span>
<span class="sd">        - $Z_2(g_2)$ is the standard normal transformation of kurtosis.</span>

<span class="sd">    ??? note &quot;Notes&quot;</span>
<span class="sd">        This function is a wrapper for the `scipy.stats.normaltest` function.</span>

<span class="sd">    ??? success &quot;Credit&quot;</span>
<span class="sd">        All credit goes to the [`scipy`](https://docs.scipy.org/) library.</span>

<span class="sd">    ??? question &quot;References&quot;</span>
<span class="sd">        - D&#39;Agostino, R. B. (1971), &quot;An omnibus test of normality for moderate and large sample size&quot;, Biometrika, 58, 341-348</span>
<span class="sd">        - D&#39;Agostino, R. and Pearson, E. S. (1973), &quot;Tests for departure from normality&quot;, Biometrika, 60, 613-622</span>

<span class="sd">    ??? tip &quot;See Also&quot;</span>
<span class="sd">        - [`jb()`][ts_stat_tests.algorithms.normality.jb]</span>
<span class="sd">        - [`ob()`][ts_stat_tests.algorithms.normality.ob]</span>
<span class="sd">        - [`sw()`][ts_stat_tests.algorithms.normality.sw]</span>
<span class="sd">        - [`ad()`][ts_stat_tests.algorithms.normality.ad]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_dp</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">,</span> <span class="n">nan_policy</span><span class="o">=</span><span class="n">nan_policy</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>






<div class="doc doc-object doc-function">


<h4 id="ts_stat_tests.algorithms.normality.ad" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">ad</span>


<a href="#ts_stat_tests.algorithms.normality.ad" class="headerlink" title="Permanent link">ðŸ”—</a></h4>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ad</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span> <span class="n">dist</span><span class="p">:</span> <span class="n">VALID_AD_DIST_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;norm&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AndersonResult</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <div class="admonition note">
<p class="admonition-title">Summary</p>
<p>The Anderson-Darling test is a statistical test used to evaluate whether a dataset follows a normal distribution.</p>
</div>
<details class="abstract" open="open">
<summary>Details</summary>
<p>The Anderson-Darling test tests the null hypothesis that a sample is drawn from a population that follows a particular distribution. For the Anderson-Darling test, the critical values depend on which distribution is being tested against.</p>
</details>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="numpy.typing.ArrayLike">ArrayLike</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array of sample data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dist</code>
            </td>
            <td>
                  <code><span title="ts_stat_tests.algorithms.normality.VALID_AD_DIST_OPTIONS">VALID_AD_DIST_OPTIONS</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The type of distribution to test against.
Default: <code>"norm"</code></p>
              </div>
            </td>
            <td>
                  <code>&#39;norm&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the input data <code>x</code> is invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="scipy.stats._morestats.AndersonResult">AndersonResult</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A named tuple containing the test statistic, critical values, and significance levels:
- statistic (float): The Anderson-Darling test statistic.
- critical_values (list[float]): The critical values for this distribution.
- significance_level (list[float]): The significance levels for the corresponding critical values in percents.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <details class="example" open="open">
<summary>Examples</summary>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Setup</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.algorithms.normality</span><span class="w"> </span><span class="kn">import</span> <span class="n">ad</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ts_stat_tests.utils.data</span><span class="w"> </span><span class="kn">import</span> <span class="n">data_airline</span><span class="p">,</span> <span class="n">data_noise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">airline</span> <span class="o">=</span> <span class="n">data_airline</span><span class="o">.</span><span class="n">values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">noise</span> <span class="o">=</span> <span class="n">data_noise</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: Using the airline dataset</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">cv</span><span class="p">,</span> <span class="n">sl</span> <span class="o">=</span> <span class="n">ad</span><span class="p">(</span><span class="n">airline</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">1.8185</span>
</code></pre></div></td></tr></table></div>
<div class="py python highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: Using random normal data</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stat</span><span class="p">,</span> <span class="n">cv</span><span class="p">,</span> <span class="n">sl</span> <span class="o">=</span> <span class="n">ad</span><span class="p">(</span><span class="n">noise</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">stat</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">0.2325</span>
</code></pre></div></td></tr></table></div>
</details>
<details class="equation">
<summary>Calculation</summary>
<p>The Anderson-Darling test statistic <span class="arithmatex">\(A^2\)</span> is defined as:</p>
<div class="arithmatex">\[
A^2 = -n - \sum_{i=1}^n \frac{2i-1}{n} \left[ \ln(F(x_i)) + \ln(1 - F(x_{n-i+1})) \right]
\]</div>
<p>where:</p>
<ul>
<li><span class="arithmatex">\(n\)</span> is the sample size,</li>
<li><span class="arithmatex">\(F\)</span> is the cumulative distribution function of the specified distribution, and</li>
<li><span class="arithmatex">\(x_i\)</span> are the ordered sample values.</li>
</ul>
</details>
<details class="note">
<summary>Notes</summary>
<p>Critical values provided are for the following significance levels:
- normal/exponential: 15%, 10%, 5%, 2.5%, 1%
- logistic: 25%, 10%, 5%, 2.5%, 1%, 0.5%
- Gumbel: 25%, 10%, 5%, 2.5%, 1%</p>
</details>
<details class="success">
<summary>Credit</summary>
<p>All credit goes to the <a href="https://docs.scipy.org/"><code>scipy</code></a> library.</p>
</details>
<details class="question">
<summary>References</summary>
<ul>
<li>Stephens, M. A. (1974). EDF Statistics for Goodness of Fit and Some Comparisons, Journal of the American Statistical Association, Vol. 69, pp. 730-737.</li>
</ul>
</details>
<details class="tip">
<summary>See Also</summary>
<ul>
<li><a class="autorefs autorefs-internal" title="            jb" href="#ts_stat_tests.algorithms.normality.jb"><code>jb()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            ob" href="#ts_stat_tests.algorithms.normality.ob"><code>ob()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            sw" href="#ts_stat_tests.algorithms.normality.sw"><code>sw()</code></a></li>
<li><a class="autorefs autorefs-internal" title="            dp" href="#ts_stat_tests.algorithms.normality.dp"><code>dp()</code></a></li>
</ul>
</details>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>src/ts_stat_tests/algorithms/normality.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@typechecked</span>
<span class="k">def</span><span class="w"> </span><span class="nf">ad</span><span class="p">(</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">dist</span><span class="p">:</span> <span class="n">VALID_AD_DIST_OPTIONS</span> <span class="o">=</span> <span class="s2">&quot;norm&quot;</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AndersonResult</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    !!! note &quot;Summary&quot;</span>
<span class="sd">        The Anderson-Darling test is a statistical test used to evaluate whether a dataset follows a normal distribution.</span>

<span class="sd">    ???+ abstract &quot;Details&quot;</span>
<span class="sd">        The Anderson-Darling test tests the null hypothesis that a sample is drawn from a population that follows a particular distribution. For the Anderson-Darling test, the critical values depend on which distribution is being tested against.</span>

<span class="sd">    Params:</span>
<span class="sd">        x (ArrayLike):</span>
<span class="sd">            Array of sample data.</span>
<span class="sd">        dist (VALID_AD_DIST_OPTIONS):</span>
<span class="sd">            The type of distribution to test against.</span>
<span class="sd">            Default: `&quot;norm&quot;`</span>

<span class="sd">    Raises:</span>
<span class="sd">        (ValueError):</span>
<span class="sd">            If the input data `x` is invalid.</span>

<span class="sd">    Returns:</span>
<span class="sd">        (AndersonResult):</span>
<span class="sd">            A named tuple containing the test statistic, critical values, and significance levels:</span>
<span class="sd">            - statistic (float): The Anderson-Darling test statistic.</span>
<span class="sd">            - critical_values (list[float]): The critical values for this distribution.</span>
<span class="sd">            - significance_level (list[float]): The significance levels for the corresponding critical values in percents.</span>

<span class="sd">    ???+ example &quot;Examples&quot;</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Setup&quot;}</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.algorithms.normality import ad</span>
<span class="sd">        &gt;&gt;&gt; from ts_stat_tests.utils.data import data_airline, data_noise</span>
<span class="sd">        &gt;&gt;&gt; airline = data_airline.values</span>
<span class="sd">        &gt;&gt;&gt; noise = data_noise</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 1: Using the airline dataset&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, cv, sl = ad(airline)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        1.8185</span>

<span class="sd">        ```</span>

<span class="sd">        ```pycon {.py .python linenums=&quot;1&quot; title=&quot;Example 2: Using random normal data&quot;}</span>
<span class="sd">        &gt;&gt;&gt; stat, cv, sl = ad(noise)</span>
<span class="sd">        &gt;&gt;&gt; print(f&quot;{stat:.4f}&quot;)</span>
<span class="sd">        0.2325</span>

<span class="sd">        ```</span>

<span class="sd">    ??? equation &quot;Calculation&quot;</span>
<span class="sd">        The Anderson-Darling test statistic $A^2$ is defined as:</span>

<span class="sd">        $$</span>
<span class="sd">        A^2 = -n - \sum_{i=1}^n \frac{2i-1}{n} \left[ \ln(F(x_i)) + \ln(1 - F(x_{n-i+1})) \right]</span>
<span class="sd">        $$</span>

<span class="sd">        where:</span>

<span class="sd">        - $n$ is the sample size,</span>
<span class="sd">        - $F$ is the cumulative distribution function of the specified distribution, and</span>
<span class="sd">        - $x_i$ are the ordered sample values.</span>

<span class="sd">    ??? note &quot;Notes&quot;</span>
<span class="sd">        Critical values provided are for the following significance levels:</span>
<span class="sd">        - normal/exponential: 15%, 10%, 5%, 2.5%, 1%</span>
<span class="sd">        - logistic: 25%, 10%, 5%, 2.5%, 1%, 0.5%</span>
<span class="sd">        - Gumbel: 25%, 10%, 5%, 2.5%, 1%</span>

<span class="sd">    ??? success &quot;Credit&quot;</span>
<span class="sd">        All credit goes to the [`scipy`](https://docs.scipy.org/) library.</span>

<span class="sd">    ??? question &quot;References&quot;</span>
<span class="sd">        - Stephens, M. A. (1974). EDF Statistics for Goodness of Fit and Some Comparisons, Journal of the American Statistical Association, Vol. 69, pp. 730-737.</span>

<span class="sd">    ??? tip &quot;See Also&quot;</span>
<span class="sd">        - [`jb()`][ts_stat_tests.algorithms.normality.jb]</span>
<span class="sd">        - [`ob()`][ts_stat_tests.algorithms.normality.ob]</span>
<span class="sd">        - [`sw()`][ts_stat_tests.algorithms.normality.sw]</span>
<span class="sd">        - [`dp()`][ts_stat_tests.algorithms.normality.dp]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">_ad</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">dist</span><span class="o">=</span><span class="n">dist</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "navigation.instant", "search.highlight", "search.suggest", "toc.follow", "content.action.edit", "content.action.view", "content.code.select", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../../assets/js/mathjax.js"></script>
      
    
  </body>
</html>